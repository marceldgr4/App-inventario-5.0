<?!= include("View/Css/Css_Generico.html"); ?>
<?!= include("View/Css/Css_Tablas.html"); ?>
<?!= include("View/Css/Css_Modal.html"); ?>
<?!= include("View/Css/Css_Filtros.html"); ?>
<?!= include("View/Css/Css_Notifications.html"); ?>

<div class="inventory-container">
  <div class="header-section">
    <h1>Gestión de Usuarios</h1>
    <p>Administración de usuarios del sistema.</p>
  </div>

  <div class="action-bar">
    <div class="btn-group">
      <button class="btn btn-primary" onclick="abrirModalAgregarUsuario()">
        <ion-icon name="person-add-outline"></ion-icon> Agregar Usuario
      </button>
    </div>

    <div class="search-group">
      <input
        type="text"
        id="buscarUsuario"
        class="search-input"
        placeholder="Buscar usuario..."
      />
      <button class="btn btn-outline" onclick="buscarPorNombreUsuario()">
        <i class="fas fa-search"></i> Buscar
      </button>
    </div>
  </div>

  <div id="sortContainer">
    <span>Ordenar por Fecha de Registro:</span>
    <i class="fas fa-sort sort-menu-icon" onclick="ordenarPorFechaUsuario(event)"></i>
    <div id="sortOptions" class="sort-options">
      <a href="#" onclick="ordenarAscendenteUsuario(); return false;">Ascendente</a>
      <a href="#" onclick="ordenarDescendenteUsuario(); return false;">Descendente</a>
    </div>
  </div>

  <div id="noDataUsuarios" class="no-data-container" style="display: none">
    <i class="fas fa-inbox no-data-icon"></i>
    <h3 class="no-data-title">No se encontraron usuarios</h3>
    <p>Haz clic en "Agregar Usuario" para añadir tu primer usuario</p>
  </div>

  <div id="tableContainer">
    <table id="UsuarioTable" class="inventory-table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nombre Completo</th>
          <th>Usuario</th>
          <th>Contraseña</th>
          <th>CDE</th>
          <th>Email</th>
          <th>Estado</th>
          <th>Rol</th>
          <th>Fecha Registro</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody id="tablaUsuarioBody"></tbody>
    </table>
    <div id="usuarioPagination" class="pagination"></div>
  </div>

  <!-- Modal Agregar Usuario -->
  <div id="modalAgregarUsuario" class="modal-overlay">
    <div class="modal-content-ac">
      <div class="modal-header">
        <h2>Agregar Usuario</h2>
        <span class="close-btn" onclick="cerrarModalAgregarUsuario()">&times;</span>
      </div>
      <form id="agregarUsuarioForm">
        <div class="form-group">
          <label for="nombreCompletoAgregarUsuario" class="required">Nombre Completo:</label>
          <input
            type="text"
            id="nombreCompletoAgregarUsuario"
            class="form-control"
            required
          />
        </div>

        <div class="form-group">
          <label for="userNameAgregarUsuario" class="required">Nombre de Usuario:</label>
          <input
            type="text"
            id="userNameAgregarUsuario"
            class="form-control"
            required
          />
        </div>

        <div class="form-group">
          <label for="passwordAgregarUsuario" class="required">Contraseña:</label>
          <input
            type="password"
            id="passwordAgregarUsuario"
            class="form-control"
            required
          />
        </div>

        <div class="form-group">
          <label for="cdeAgregarUsuario" class="required">CDE:</label>
          <input
            type="text"
            id="cdeAgregarUsuario"
            class="form-control"
            required
          />
        </div>

        <div class="form-group">
          <label for="emailAgregarUsuario" class="required">Email:</label>
          <input
            type="email"
            id="emailAgregarUsuario"
            class="form-control"
            required
          />
        </div>

        <div class="form-group">
          <label for="estadoAgregarUsuario" class="required">Estado Usuario:</label>
          <select id="estadoAgregarUsuario" class="form-control" required>
            <option value="Activo">Activo</option>
            <option value="Inactivo">Inactivo</option>
          </select>
        </div>

        <div class="form-group">
          <label for="rolAgregarUsuario" class="required">Rol:</label>
          <select id="rolAgregarUsuario" class="form-control" required>
            <option value="Administrador">Administrador</option>
            <option value="Usuario">Usuario</option>
          </select>
        </div>

        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">
            <ion-icon name="person-add-outline"></ion-icon> Agregar Usuario
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal Editar Usuario -->
  <div id="modalEditarUsuario" class="modal-overlay">
    <div class="modal-content-ac">
      <div class="modal-header">
        <h2>Editar Usuario</h2>
        <span class="close-btn" onclick="cerrarModalEditarUsuario()">&times;</span>
      </div>
      <p>ID del Usuario: <span id="usuarioIdEditarUsuario"></span></p>
      <form id="editarUsuarioForm">
        <div class="form-group">
          <label for="nombreCompletoEditarUsuario" class="required">Nombre Completo:</label>
          <input
            type="text"
            id="nombreCompletoEditarUsuario"
            class="form-control"
            required
          />
        </div>

        <div class="form-group">
          <label for="userNameEditarUsuario" class="required">Nombre de Usuario:</label>
          <input
            type="text"
            id="userNameEditarUsuario"
            class="form-control"
            required
          />
        </div>

        <div class="form-group">
          <label for="passwordEditarUsuario">Contraseña (Dejar vacío para no cambiar):</label>
          <input
            type="password"
            id="passwordEditarUsuario"
            class="form-control"
            placeholder="******"
          />
        </div>

        <div class="form-group">
          <label for="cdeEditarUsuario" class="required">CDE:</label>
          <input
            type="text"
            id="cdeEditarUsuario"
            class="form-control"
            required
          />
        </div>

        <div class="form-group">
          <label for="emailEditarUsuario" class="required">Email:</label>
          <input
            type="email"
            id="emailEditarUsuario"
            class="form-control"
            required
          />
        </div>

        <div class="form-group">
          <label for="estadoEditarUsuario" class="required">Estado Usuario:</label>
          <select id="estadoEditarUsuario" class="form-control" required>
            <option value="Activo">Activo</option>
            <option value="Inactivo">Inactivo</option>
          </select>
        </div>

        <div class="form-group">
          <label for="rolEditarUsuario" class="required">Rol:</label>
          <select id="rolEditarUsuario" class="form-control" required>
            <option value="Administrador">Administrador</option>
            <option value="Usuario">Usuario</option>
          </select>
        </div>

        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">
            <ion-icon name="cloud-upload-outline"></ion-icon> Guardar Cambios
          </button>
        </div>
      </form>
    </div>
  </div>

  <div id="mensajeConfirmacionUsuario" class="mensaje-confirmacion" style="display: none;">
    <span></span>
    <button onclick="cerrarMensajeUsuario()">&times;</button>
  </div>
</div>

<?!= include('View/Js/Js_Generico.html'); ?>
<?!= include('View/Js/Js_Usuario.html'); ?>