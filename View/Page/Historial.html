
  <h2>Historial de Modificaciones</h2>
  
  <div class="action-bar">
    <input type="text" 
           id="buscarHistorial" 
           class="search-input" 
           onkeyup="buscarPorNombreHistorial()" 
           placeholder="Buscar por producto o usuario..."
           aria-label="Buscar en historial">
           
    <div id="toggleFiltrosHistorialIconContainer" 
         class="filter-toggle" 
         title="Mostrar/Ocultar filtros adicionales"
         role="button"
         tabindex="0">
      <ion-icon name="filter-outline" class="icon-md"></ion-icon>
      <span>Filtros</span>
    </div>
  </div>

  <div id="filtrosAdicionalesHistorialContainer" class="filtros-adicionales-ocultos">
    <div class="filter-group">
      <input type="text" 
             id="filtroProgramaHistorial" 
             class="form-control" 
             placeholder="Filtrar por Programa..."
             aria-label="Filtrar por programa">
             
      <input type="text" 
             id="filtroEstadoHistorialInput" 
             class="form-control" 
             placeholder="Filtrar por Estado..."
             aria-label="Filtrar por estado">
             
      <button onclick="limpiarTodosLosFiltrosHistorial()" 
              class="btn btn-outline"
              aria-label="Limpiar todos los filtros">
        Limpiar Filtros
      </button>
    </div>
  </div>

  <div class="table-actions">
    <div id="sortContainer" class="sort-container">
      <button class="btn btn-icon" 
              onclick="ordenarPorFechaHistorial(event)"
              aria-label="Ordenar por fecha">
        <i class="fas fa-sort"></i>
      </button>
      <div id="sortOptions" class="sort-options" role="menu">
        <a href="#" 
           onclick="ordenarAscendenteHistorial(); return false;" 
           role="menuitem">Ascendente</a>
        <a href="#" 
           onclick="ordenarDescendenteHistorial(); return false;" 
           role="menuitem">Descendente</a>
      </div>
    </div>
  </div>

  <div class="table-container">
    <table id="HistorialTable" class="inventory-table">
      <thead>
        <tr>
          <th scope="col">ID</th>
          <th scope="col">ProductoId</th>
          <th scope="col">Fecha</th>
          <th scope="col">Producto</th>
          <th scope="col">Programa</th>
          <th scope="col">Unidades Anteriores</th>
          <th scope="col">Unidades Nuevas</th>
          <th scope="col">Estado</th>
          <th scope="col">Usuario</th>
          <th scope="col">Fecha de Retiro</th>
          <th scope="col">Cantidad</th>
        </tr>
      </thead>
      <tbody id="tablaHistorialBody">
      </tbody>
    </table>
  </div>
  
  <div id="historialPagination" class="pagination" role="navigation" aria-label="PaginaciÃ³n de historial"></div>

  <div id="mensajeConfirmacionHistorial" class="mensaje-confirmacion" style="display:none;">
    <span role="alert"></span>
    <button class="btn btn-primary" 
            onclick="cerrarMensajeHistorial()"
            aria-label="Cerrar mensaje">
      Cerrar
    </button>
  </div>

  <div id="loadingOverlayHistorial" class="loading-overlay" style="display:none;">
    <div class="spinner"></div>
  </div>
  <?!= include('View/Css/Css_Generico.html'); ?>
<?!= include('View/Css/Css_Tablas.html'); ?>
<?!= include('View/Css/Css_Filtros.html'); ?>
<?!= include('View/Css/Css_Modal.html'); ?>
<?!= include('View/Css/Css_Notifications.html'); ?>
<?!= include('View/Css/Css_Comentarios.html'); ?>
<?!= include('View/Css/Css_Comida.html'); ?>  
  <?!= include('View/Js/Js_Generico.html'); ?>
  <?!= include('View/Js/Js_Historial.html'); ?>