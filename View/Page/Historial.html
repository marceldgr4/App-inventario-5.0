
<h2>Historial de Modificaciones</h2>

<div class="tabs">
  <button class="tab-link active" data-category="Todos" onclick="filtrarHistorialPorCategoria('Todos')">Todos</button>
  <button class="tab-link" data-category="Inventario" onclick="filtrarHistorialPorCategoria('Inventario')">Artículos</button>
  <button class="tab-link" data-category="Comida" onclick="filtrarHistorialPorCategoria('Comida')">Comida</button>
  <button class="tab-link" data-category="Decoracion" onclick="filtrarHistorialPorCategoria('Decoracion')">Decoración</button>
  <button class="tab-link" data-category="Papeleria" onclick="filtrarHistorialPorCategoria('Papeleria')">Papelería</button>
</div>

<div class="action-bar">
  <input type="text" 
         id="buscarHistorial" 
         class="search-input" 
         onkeyup="buscarPorNombreHistorial()" 
         placeholder="Buscar por producto o usuario..."
         aria-label="Buscar en historial">
         
  <div id="toggleFiltrosHistorialIconContainer" 
       class="filter-toggle" 
       title="Mostrar/Ocultar filtros adicionales"
       role="button"
       tabindex="0">
    <ion-icon name="filter-outline" class="icon-md"></ion-icon>
    <span>Filtros</span>
  </div>
</div>

<div id="filtrosAdicionalesHistorialContainer" class="filtros-adicionales-ocultos">
  <div class="filter-group">
    <select id="filtroEstadoHistorial" class="form-control" onchange="filtrarHistorialPorEstado()" aria-label="Filtrar por estado">
      <option value="">Todos los Estados</option>
      <option value="agregado">Agregado</option>
      <option value="modificado">Modificado</option>
      <option value="retirado">Retirado</option>
      <option value="eliminado">Eliminado</option>
    </select>
           
    <button onclick="limpiarTodosLosFiltrosHistorial()" 
            class="btn btn-outline"
            aria-label="Limpiar todos los filtros">
      Limpiar Filtros
    </button>
  </div>
</div>

<div class="table-actions">
  <div id="sortContainer" class="sort-container">
    <button class="btn btn-icon" 
            onclick="ordenarPorFechaHistorial(event)"
            aria-label="Ordenar por fecha">
      <i class="fas fa-sort"></i>
    </button>
    <div id="sortOptions" class="sort-options" role="menu">
      <a href="#" 
         onclick="ordenarAscendenteHistorial(); return false;" 
         role="menuitem">Ascendente</a>
      <a href="#" 
         onclick="ordenarDescendenteHistorial(); return false;" 
         role="menuitem">Descendente</a>
    </div>
  </div>
</div>

<div id="historial-list-container" class="historial-list">
  <!-- Las tarjetas de historial se insertarán aquí dinámicamente -->
</div>

<div id="historialPagination" class="pagination" role="navigation" aria-label="Paginación de historial"></div>

<div id="mensajeConfirmacionHistorial" class="mensaje-confirmacion" style="display:none;">
  <span role="alert"></span>
  <button class="btn btn-primary" 
          onclick="cerrarMensajeHistorial()"
          aria-label="Cerrar mensaje">
    Cerrar
  </button>
</div>

<div id="loadingOverlayHistorial" class="loading-overlay" style="display:none;">
  <div class="spinner"></div>
</div>

<?!= include('View/Css/Css_Generico.html'); ?>
<?!= include('View/Js/Js_Generico.html'); ?>
<?!= include('View/Js/Js_Historial.html'); ?>
<?!= include('View/Css/Css_Tablas.html'); ?>
<?!= include('View/Css/Css_Filtros.html'); ?>
<?!= include('View/Css/Css_Modal.html'); ?>
<?!= include('View/Css/Css_Notifications.html'); ?>
<?!= include('View/Css/Css_Comentarios.html'); ?>
<?!= include('View/Css/Css_Comida.html'); ?>  


